{"mappings":"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","sources":["src/index.js","src/utils/notched.js","src/utils/observers.js","src/utils/listeners.js"],"sourcesContent":["import notched from './utils/notched';\r\nimport observers from './utils/observers';\r\nimport listeners from './utils/listeners';\r\n\r\nconst TextFields = {\r\n    notches: [],\r\n\r\n    notched,\r\n\r\n    handlers() {\r\n        const fields = [...document.querySelectorAll('.text-field-container input, .text-field-container textarea')];\r\n\r\n        fields.forEach((field) => {\r\n            const notchData = this.notches.find((data) => data.container.contains(field));\r\n\r\n            if (!notchData) return;\r\n\r\n            const { container, notch } = notchData;\r\n            const fieldType = field instanceof HTMLTextAreaElement;\r\n\r\n            observers(field, container, notch);\r\n            listeners(field, container, notch, fieldType);\r\n        });\r\n    },\r\n\r\n    init() {\r\n        this.notched();\r\n        this.handlers();\r\n    },\r\n\r\n    destroy() {\r\n        this.notches = [];\r\n    },\r\n};\r\n\r\nexport default TextFields;\r\n","function notched() {\n  const labels = document.querySelectorAll('.floating-label');\n\n  labels.forEach((label) => {\n    const notchedOutline = label.closest('.notched-outline');\n\n    if (notchedOutline) {\n      this.notches.push({\n        container: notchedOutline.parentNode,\n        notch: notchedOutline.querySelector('.notched-outline__notch'),\n      });\n    } else {\n      const outline = document.createElement('div');\n\n      outline.classList.add('notched-outline');\n      outline.innerHTML = `<div class=\"notched-outline__leading\"></div><div class=\"notched-outline__notch\">${label.outerHTML}</div><div class=\"notched-outline__trailing\"></div>`;\n\n      label.replaceWith(outline);\n\n      this.notches.push({\n        container: outline.parentNode,\n        notch: outline.querySelector('.notched-outline__notch'),\n      });\n    }\n  });\n}\n\nexport default notched;\n","function observers(field, container) {\n  const fieldType = field instanceof HTMLTextAreaElement;\n\n  const observer = new MutationObserver(() => {\n    if (field.required) {\n      container.classList.add(fieldType ? 'textarea--error' : 'input--error');\n    } else {\n      container.classList.remove(fieldType ? 'textarea--error' : 'input--error');\n    }\n\n    if (field.disabled) {\n      container.classList.add(fieldType ? 'textarea--disabled' : 'input--disabled');\n    } else {\n      container.classList.remove(fieldType ? 'textarea--disabled' : 'input--disabled');\n    }\n  });\n\n  observer.observe(field, { attributes: true, attributeFilter: ['required', 'disabled'] });\n}\n\nexport default observers;\n","function getNotchWidth(notch) {\n  const label = notch.querySelector('.floating-label');\n  return label ? `${(parseFloat(getComputedStyle(label).width) + 13) * 0.75}px` : 'auto';\n}\n\nfunction listeners(field, container, notch, fieldType) {\n  const eventType = fieldType ? 'input' : 'change';\n  const notchStyle = notch.style;\n\n  field.addEventListener('focus', () => {\n    container.classList.add(fieldType ? 'textarea--focused' : 'input--focused');\n    notchStyle.width = getNotchWidth(notch);\n  });\n\n  field.addEventListener('blur', () => {\n    container.classList.remove(fieldType ? 'textarea--focused' : 'input--focused');\n\n    if (field.value.trim().length <= 0) {\n      notchStyle.width = 'auto';\n    }\n  });\n\n  field.addEventListener(eventType, () => {\n    if (field.value.trim().length > 0) {\n      container.classList.add(fieldType ? 'textarea--filled' : 'input--filled');\n    } else {\n      container.classList.remove(fieldType ? 'textarea--filled' : 'input--filled');\n    }\n\n    if (fieldType && container.classList.contains('textarea--auto-resizeable')) {\n      const currentField = field;\n\n      currentField.style.height = 'auto';\n      currentField.style.height = `${currentField.scrollHeight}px`;\n    }\n  });\n}\n\nexport default listeners;\n"],"names":[],"version":3,"file":"index.module.js.map"}